!function(){class e{static initAll(){Array.prototype.slice.call(document.querySelectorAll(".Accordion")).forEach((function(t){new e(t)}))}constructor(e){this.el=e,this.allowMultiple=e.hasAttribute("data-allow-multiple"),this.allowToggle=this.allowMultiple?this.allowMultiple:e.hasAttribute("data-allow-toggle"),this.triggers=Array.prototype.slice.call(e.querySelectorAll(".Accordion-trigger"));let t=this;if(this.triggers.forEach((e=>{e.onkeydown=()=>console.log("go fuck yourself FF"),e.addEventListener("click",(function(e){console.log(e.currentTarget),console.log(e),e.currentTarget.classList.contains("Accordion-trigger")&&(t.toggleTarget(e.currentTarget),e.preventDefault())}))})),e.addEventListener("keydown",this._handleKeydown.bind(this)),!this.allowToggle){var r=e.querySelector('[aria-expanded="true"]');r&&r.setAttribute("aria-disabled","true")}}_handleKeydown(e){var t=e.target,r=e.key;if(t.classList.contains("Accordion-trigger"))switch(r){case"ArrowUp":var a=-1,i=(this.triggers.indexOf(t)+(l=this.triggers.length)+a)%l;this.triggers[i].focus(),e.preventDefault();break;case"ArrowDown":var l;a=1,i=(this.triggers.indexOf(t)+(l=this.triggers.length)+a)%l;this.triggers[i].focus(),e.preventDefault();break;case"Home":this.triggers[0].focus();break;case"End":this.triggers[this.triggers.length-1].focus();break;case"Enter":case"Space":case" ":this.toggleTarget(t),e.preventDefault();break;default:console.log(r)}}toggleTarget(e){var t="true"==e.getAttribute("aria-expanded"),r=this.el.querySelector('[aria-expanded="true"]');!this.allowMultiple&&r&&r!==e&&(r.setAttribute("aria-expanded","false"),document.getElementById(r.getAttribute("aria-controls")).setAttribute("hidden",""),this.allowToggle||r.removeAttribute("aria-disabled")),t?this.allowToggle&&t&&e.setAttribute("aria-expanded","false"):(e.setAttribute("aria-expanded","true"),this.allowToggle||e.setAttribute("aria-disabled","true"))}}class t{constructor(){let e=document.getElementById("MainNav"),t=document.getElementById("MobileMenu"),r=e.querySelector(".js-open"),a=t.querySelector(".js-close");r.onclick=e=>{t.dataset.state="entering-from",requestAnimationFrame((()=>t.dataset.state="entering-to"))},a.onclick=e=>{t.dataset.state="leaving-from",requestAnimationFrame((()=>t.dataset.state="leaving-to")),setTimeout((()=>t.dataset.state="closed"),200)}}}document.addEventListener("DOMContentLoaded",(r=>{e.initAll(),new t}))}();
//# sourceMappingURL=publications.91d97e0b.js.map
